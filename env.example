# ============================================
# 后端配置 - 对应 backend/internal/config/config.go
# ============================================

# 服务器配置
SERVER_PORT=8080

# 数据库配置
# 注意：DB_HOST在docker-compose中会自动设置为mysql（容器名）
# 如果不在Docker中运行，请设置为 127.0.0.1 或实际数据库地址
DB_HOST=mysql
DB_PORT=3306  # 容器内端口（后端通过容器名访问时使用）
# MYSQL_PORT=3307  # MySQL主机端口映射（可选，默认3307，避免与本地MySQL冲突）
DB_USER=root
DB_PASSWORD=rootpassword
DB_NAME=image_manager

# JWT密钥（生产环境必须修改）
# 类型：字符串，建议使用至少32个字符的随机字符串
# 如果值包含空格，可以使用引号：JWT_SECRET="your secret key"
JWT_SECRET=your-secret-key-change-in-production

# 存储配置
# 注意：在Docker中应使用绝对路径 /root/storage
# 在本地开发时可以使用相对路径 ./storage
STORAGE_DIR=/root/storage
THUMBNAIL_WIDTH=300
THUMBNAIL_HEIGHT=300
# 最大上传文件大小（字节），默认10MB = 10485760
MAX_UPLOAD_SIZE=10485760

# CORS配置
# 多个域名用逗号分隔，例如: http://localhost:5173,http://localhost:3000
# 使用 * 表示允许所有来源（仅用于开发环境）
CORS_ALLOWED_ORIGINS=*

# AI配置（智谱AI GLM-4 Vision）
# 如果不需要AI功能，设置 AI_ENABLED=false
# AI_API_KEY 类型：字符串，从 https://open.bigmodel.cn/ 获取API密钥
# 如果值为空，AI功能将被禁用
AI_API_KEY=
AI_API_URL=https://open.bigmodel.cn/api/paas/v4/chat/completions
AI_MODEL=glm-4v
AI_ENABLED=false

# ============================================
# 前端配置 - 用于构建时注入（Vite环境变量）
# ============================================

# 前端API地址（构建时使用）
# Docker部署时，默认使用相对路径 /api/v1，通过Nginx代理访问后端
# 这样无论从哪个设备访问（PC、手机等），都能正常工作
# 如果需要使用绝对路径（前后端分离部署），可以设置为：http://your-server-ip:8080/api/v1
# 留空或设置为 /api/v1 表示使用相对路径（推荐）
VITE_API_BASE_URL=/api/v1

